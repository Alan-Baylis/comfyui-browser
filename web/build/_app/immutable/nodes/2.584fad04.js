import{s as V,n as _,o as C,f as p}from"../chunks/scheduler.63274e7e.js";import{S as q,i as A,g as u,h as d,j as g,f as o,k as r,a as h,y as M,s as I,e as v,c as D,x as m}from"../chunks/index.579537c8.js";function b(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function w(a,n,l){const i=a.slice();return i[3]=n[l],i}function k(a){let n,l,i;return{c(){n=u("div"),l=u("img"),this.h()},l(s){n=d(s,"DIV",{});var t=g(n);l=d(t,"IMG",{src:!0,alt:!0}),t.forEach(o),this.h()},h(){p(l.src,i=a[3].url)||r(l,"src",i),r(l,"alt","")},m(s,t){h(s,n,t),m(n,l)},p(s,t){t&1&&!p(l.src,i=s[3].url)&&r(l,"src",i)},d(s){s&&o(n)}}}function j(a){let n,l,i,s,t;return{c(){n=u("div"),l=u("video"),i=u("track"),t=I(),this.h()},l(e){n=d(e,"DIV",{});var c=g(n);l=d(c,"VIDEO",{class:!0,src:!0});var f=g(l);i=d(f,"TRACK",{kind:!0}),f.forEach(o),t=D(c),c.forEach(o),this.h()},h(){r(i,"kind","captions"),r(l,"class","rounded-lg pb-0.5 border-0.5 border-black"),p(l.src,s=a[3].url)||r(l,"src",s),l.loop=!0,l.autoplay=!0,l.muted=!0},m(e,c){h(e,n,c),m(n,l),m(l,i),m(n,t)},p(e,c){c&1&&!p(l.src,s=e[3].url)&&r(l,"src",s)},d(e){e&&o(n)}}}function E(a){let n=["png","webp","jpeg","jpg","gif"].includes(a[3].extname),l,i=["mp4"].includes(a[3].extname),s,t=n&&k(a),e=i&&j(a);return{c(){t&&t.c(),l=I(),e&&e.c(),s=v()},l(c){t&&t.l(c),l=D(c),e&&e.l(c),s=v()},m(c,f){t&&t.m(c,f),h(c,l,f),e&&e.m(c,f),h(c,s,f)},p(c,f){f&1&&(n=["png","webp","jpeg","jpg","gif"].includes(c[3].extname)),n?t?t.p(c,f):(t=k(c),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null),f&1&&(i=["mp4"].includes(c[3].extname)),i?e?e.p(c,f):(e=j(c),e.c(),e.m(s.parentNode,s)):e&&(e.d(1),e=null)},d(c){c&&(o(l),o(s)),t&&t.d(c),e&&e.d(c)}}}function N(a){let n,l=b(a[0]),i=[];for(let s=0;s<l.length;s+=1)i[s]=E(w(a,l,s));return{c(){n=u("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){n=d(s,"DIV",{class:!0});var t=g(n);for(let e=0;e<i.length;e+=1)i[e].l(t);t.forEach(o),this.h()},h(){r(n,"class","grid grid-cols-6 gap-4")},m(s,t){h(s,n,t);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(n,null)},p(s,[t]){if(t&1){l=b(s[0]);let e;for(e=0;e<l.length;e+=1){const c=w(s,l,e);i[e]?i[e].p(c,t):(i[e]=E(c),i[e].c(),i[e].m(n,null))}for(;e<i.length;e+=1)i[e].d(1);i.length=l.length}},i:_,o:_,d(s){s&&o(n),M(i,s)}}}function S(a,n,l){let{data:i}=n;const{comfyUrl:s}=i;let t=[];return C(async()=>{const c=await(await fetch(s+"/browser/files")).json();l(0,t=c.files),t.forEach(f=>{f.extname=f.name.split(".").pop().toLowerCase(),f.url=`${s}/view?filename=${f.name}`})}),a.$$set=e=>{"data"in e&&l(1,i=e.data)},[t,i]}class K extends q{constructor(n){super(),A(this,n,S,N,V,{data:1})}}export{K as component};
